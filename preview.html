<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rental Application Management - Split Lease Preview</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    /* Split Lease - Rental Application Management Styles */
    :root {
      --color-primary: #6D31C2;
      --color-primary-dark: #5A28A3;
      --color-primary-light: #8B5CD6;
      --color-secondary: #9EC600;
      --color-white: #FFFFFF;
      --color-gray-50: #F9FAFB;
      --color-gray-100: #F3F4F6;
      --color-gray-200: #E5E7EB;
      --color-gray-300: #D1D5DB;
      --color-gray-400: #9CA3AF;
      --color-gray-500: #6B7280;
      --color-gray-600: #4B5563;
      --color-gray-700: #374151;
      --color-gray-800: #1F2937;
      --color-gray-900: #111827;
      --color-success: #10B981;
      --color-success-bg: #D1FAE5;
      --color-warning: #F59E0B;
      --color-warning-bg: #FEF3C7;
      --color-error: #EF4444;
      --color-error-bg: #FEE2E2;
      --color-info: #3B82F6;
      --color-info-bg: #DBEAFE;
      --font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      --radius-sm: 0.25rem;
      --radius-md: 0.375rem;
      --radius-lg: 0.5rem;
      --radius-xl: 0.75rem;
      --radius-full: 9999px;
      --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
      --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1);
      --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: var(--font-family);
      background-color: var(--color-gray-50);
      color: var(--color-gray-900);
      line-height: 1.5;
    }

    /* Alert Container */
    .alert-container {
      position: fixed;
      top: 1rem;
      right: 1rem;
      z-index: 9999;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      max-width: 400px;
    }

    .alert-notification {
      display: flex;
      align-items: flex-start;
      gap: 0.75rem;
      padding: 1rem;
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-lg);
      animation: slideIn 0.3s ease-out;
      position: relative;
      overflow: hidden;
    }

    .alert-purple {
      background-color: var(--color-primary);
      color: var(--color-white);
    }

    .alert-content { flex: 1; }
    .alert-title { font-weight: 600; font-size: 0.875rem; margin-bottom: 0.25rem; }
    .alert-message { font-size: 0.875rem; opacity: 0.95; }

    .alert-close {
      background: transparent;
      border: none;
      color: inherit;
      cursor: pointer;
      opacity: 0.7;
      padding: 0.25rem;
    }
    .alert-close:hover { opacity: 1; }

    .alert-progress {
      position: absolute;
      bottom: 0;
      left: 0;
      height: 3px;
      background-color: var(--color-secondary);
      animation: progressShrink 5s linear forwards;
    }

    @keyframes slideIn {
      from { opacity: 0; transform: translateX(100%); }
      to { opacity: 1; transform: translateX(0); }
    }

    @keyframes progressShrink {
      from { width: 100%; }
      to { width: 0%; }
    }

    /* Page Layout */
    .page-header {
      background: var(--color-white);
      border-bottom: 1px solid var(--color-gray-200);
      padding: 1.5rem 2rem;
      position: sticky;
      top: 0;
      z-index: 100;
    }

    .page-title {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--color-gray-900);
      margin-bottom: 0.25rem;
    }

    .page-subtitle {
      font-size: 0.875rem;
      color: var(--color-gray-500);
    }

    .page-main {
      padding: 1.5rem 2rem;
      max-width: 1400px;
      margin: 0 auto;
    }

    /* Search Filters */
    .search-filters {
      background: var(--color-white);
      border-radius: var(--radius-xl);
      border: 1px solid var(--color-gray-200);
      margin-bottom: 1.5rem;
      overflow: hidden;
    }

    .filters-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1rem 1.5rem;
      background: var(--color-gray-50);
      border-bottom: 1px solid var(--color-gray-200);
    }

    .filters-title {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-weight: 600;
      color: var(--color-gray-800);
    }

    .filters-title svg { color: var(--color-primary); }

    .filters-content {
      padding: 1.5rem;
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 1rem;
    }

    .filter-group {
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
    }

    .filter-label {
      font-size: 0.875rem;
      font-weight: 500;
      color: var(--color-gray-700);
    }

    .filter-input, .filter-select {
      padding: 0.5rem 0.75rem;
      border: 1px solid var(--color-gray-300);
      border-radius: var(--radius-md);
      font-size: 0.875rem;
      width: 100%;
    }

    .filter-input:focus, .filter-select:focus {
      outline: none;
      border-color: var(--color-primary);
      box-shadow: 0 0 0 3px rgba(109, 49, 194, 0.1);
    }

    .input-with-icon {
      position: relative;
    }

    .input-icon {
      position: absolute;
      left: 0.75rem;
      top: 50%;
      transform: translateY(-50%);
      color: var(--color-gray-400);
    }

    .filter-input.with-icon {
      padding-left: 2.5rem;
    }

    .clear-btn {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 1rem;
      background: var(--color-gray-100);
      border: none;
      border-radius: var(--radius-md);
      color: var(--color-gray-700);
      cursor: pointer;
      font-size: 0.875rem;
      margin-top: 1rem;
    }

    .clear-btn:hover { background: var(--color-gray-200); }

    /* Table */
    .table-container {
      background: var(--color-white);
      border-radius: var(--radius-xl);
      border: 1px solid var(--color-gray-200);
      overflow: hidden;
    }

    .table-info {
      padding: 1rem 1.5rem;
      background: var(--color-gray-50);
      border-bottom: 1px solid var(--color-gray-200);
      font-size: 0.875rem;
      color: var(--color-gray-600);
    }

    .table-wrapper {
      overflow-x: auto;
    }

    table {
      width: 100%;
      border-collapse: collapse;
    }

    th {
      padding: 0.75rem 1rem;
      text-align: left;
      font-weight: 600;
      color: var(--color-gray-700);
      background: var(--color-gray-50);
      border-bottom: 1px solid var(--color-gray-200);
      font-size: 0.875rem;
      white-space: nowrap;
    }

    th.sortable {
      cursor: pointer;
      user-select: none;
    }

    th.sortable:hover { background: var(--color-gray-100); }

    .sort-icons {
      display: inline-flex;
      flex-direction: column;
      margin-left: 0.25rem;
      vertical-align: middle;
    }

    .sort-icon { color: var(--color-gray-300); }
    .sort-icon.active { color: var(--color-primary); }

    td {
      padding: 0.75rem 1rem;
      border-bottom: 1px solid var(--color-gray-100);
      font-size: 0.875rem;
    }

    tr:hover { background: var(--color-gray-50); }

    .applicant-cell {
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    .avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: var(--color-primary);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      font-size: 0.875rem;
    }

    .applicant-name { font-weight: 500; }
    .applicant-phone { font-size: 0.75rem; color: var(--color-gray-500); }

    .unique-id {
      font-family: monospace;
      font-size: 0.75rem;
      background: var(--color-gray-100);
      padding: 0.25rem 0.5rem;
      border-radius: var(--radius-sm);
    }

    .status-badge {
      display: inline-flex;
      padding: 0.25rem 0.5rem;
      font-size: 0.75rem;
      font-weight: 500;
      border-radius: var(--radius-full);
    }

    .view-btn {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 0.75rem;
      background: var(--color-primary);
      color: white;
      border: none;
      border-radius: var(--radius-md);
      cursor: pointer;
      font-size: 0.875rem;
      font-weight: 500;
    }

    .view-btn:hover { background: var(--color-primary-dark); }

    /* Pagination */
    .pagination {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1rem 1.5rem;
      background: var(--color-gray-50);
      border-top: 1px solid var(--color-gray-200);
    }

    .pagination-btn {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 1rem;
      background: white;
      border: 1px solid var(--color-gray-300);
      border-radius: var(--radius-md);
      cursor: pointer;
      font-size: 0.875rem;
    }

    .pagination-btn:hover:not(:disabled) {
      background: var(--color-gray-100);
    }

    .pagination-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    /* Detail View */
    .detail-view {
      display: none;
    }

    .detail-view.active {
      display: block;
    }

    .list-view.hidden {
      display: none;
    }

    .detail-header {
      display: flex;
      align-items: flex-start;
      justify-content: space-between;
      padding: 1.5rem;
      background: var(--color-gray-50);
      border-bottom: 1px solid var(--color-gray-200);
    }

    .go-back-btn {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 1rem;
      background: white;
      border: 1px solid var(--color-gray-300);
      border-radius: var(--radius-md);
      cursor: pointer;
      font-size: 0.875rem;
    }

    .go-back-btn:hover { background: var(--color-gray-100); }

    .detail-title-section { text-align: right; }
    .detail-title { font-size: 1.25rem; font-weight: 600; margin-bottom: 0.5rem; }
    .detail-meta { display: flex; gap: 0.75rem; justify-content: flex-end; align-items: center; }

    .detail-content {
      padding: 1.5rem;
    }

    .detail-section {
      border: 1px solid var(--color-gray-200);
      border-radius: var(--radius-lg);
      margin-bottom: 1.5rem;
      overflow: hidden;
    }

    .section-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1rem 1.25rem;
      background: var(--color-gray-50);
      border-bottom: 1px solid var(--color-gray-200);
    }

    .section-title {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      font-weight: 600;
      color: var(--color-gray-800);
    }

    .section-title svg { color: var(--color-primary); }

    .edit-btn {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 0.75rem;
      background: white;
      border: 1px solid var(--color-primary);
      color: var(--color-primary);
      border-radius: var(--radius-md);
      cursor: pointer;
      font-size: 0.75rem;
      font-weight: 500;
    }

    .edit-btn:hover {
      background: var(--color-primary);
      color: white;
    }

    .section-content {
      padding: 1.25rem;
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 1rem;
    }

    .info-group {
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
    }

    .info-group label {
      font-size: 0.75rem;
      font-weight: 500;
      color: var(--color-gray-500);
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .info-group span {
      font-size: 0.875rem;
      color: var(--color-gray-900);
    }

    .info-group.full-width {
      grid-column: 1 / -1;
    }

    /* Edit Panel Modal */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      padding: 1rem;
    }

    .modal-overlay.active {
      display: flex;
    }

    .modal {
      background: white;
      border-radius: var(--radius-xl);
      width: 100%;
      max-width: 600px;
      max-height: 90vh;
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }

    .modal-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1.25rem 1.5rem;
      background: var(--color-gray-50);
      border-bottom: 1px solid var(--color-gray-200);
    }

    .modal-header h3 {
      font-size: 1.125rem;
      font-weight: 600;
    }

    .modal-close {
      background: none;
      border: none;
      cursor: pointer;
      color: var(--color-gray-500);
      padding: 0.25rem;
    }

    .modal-close:hover { color: var(--color-gray-700); }

    .modal-content {
      padding: 1.5rem;
      overflow-y: auto;
    }

    .form-row {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 1rem;
      margin-bottom: 1rem;
    }

    .form-group {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .form-group.full {
      grid-column: 1 / -1;
    }

    .form-group label {
      font-size: 0.875rem;
      font-weight: 500;
      color: var(--color-gray-700);
    }

    .form-group input,
    .form-group select,
    .form-group textarea {
      padding: 0.75rem;
      border: 1px solid var(--color-gray-300);
      border-radius: var(--radius-md);
      font-size: 0.875rem;
    }

    .form-group input:focus,
    .form-group select:focus,
    .form-group textarea:focus {
      outline: none;
      border-color: var(--color-primary);
      box-shadow: 0 0 0 3px rgba(109, 49, 194, 0.1);
    }

    .modal-footer {
      display: flex;
      justify-content: flex-end;
      gap: 0.75rem;
      padding: 1rem 1.5rem;
      background: var(--color-gray-50);
      border-top: 1px solid var(--color-gray-200);
    }

    .cancel-btn {
      padding: 0.5rem 1rem;
      background: white;
      border: 1px solid var(--color-gray-300);
      border-radius: var(--radius-md);
      cursor: pointer;
      font-size: 0.875rem;
    }

    .cancel-btn:hover { background: var(--color-gray-100); }

    .save-btn {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 1.25rem;
      background: var(--color-primary);
      color: white;
      border: none;
      border-radius: var(--radius-md);
      cursor: pointer;
      font-size: 0.875rem;
      font-weight: 500;
    }

    .save-btn:hover { background: var(--color-primary-dark); }

    /* Footer */
    .page-footer {
      background: white;
      border-top: 1px solid var(--color-gray-200);
      padding: 1rem 2rem;
      text-align: center;
      font-size: 0.875rem;
      color: var(--color-gray-500);
    }

    /* Responsive */
    @media (max-width: 768px) {
      .filters-content {
        grid-template-columns: 1fr;
      }
      .section-content {
        grid-template-columns: 1fr;
      }
      .form-row {
        grid-template-columns: 1fr;
      }
    }

    /* Icons (inline SVGs) */
    .icon {
      width: 18px;
      height: 18px;
      display: inline-block;
      vertical-align: middle;
    }
  </style>
</head>
<body>

  <!-- Alert Container -->
  <div class="alert-container" id="alertContainer"></div>

  <!-- Page Header -->
  <header class="page-header">
    <h1 class="page-title">Rental Application Management</h1>
    <p class="page-subtitle">Search, filter, and manage rental applications</p>
  </header>

  <!-- Main Content -->
  <main class="page-main">
    <!-- List View -->
    <div class="list-view" id="listView">
      <!-- Search Filters -->
      <div class="search-filters">
        <div class="filters-header">
          <div class="filters-title">
            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon>
            </svg>
            Search & Filter
          </div>
        </div>
        <div class="filters-content">
          <div class="filter-group">
            <label class="filter-label">Name</label>
            <div class="input-with-icon">
              <svg class="input-icon icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="11" cy="11" r="8"></circle>
                <path d="m21 21-4.3-4.3"></path>
              </svg>
              <input type="text" class="filter-input with-icon" placeholder="Search by name..." id="filterName">
            </div>
          </div>
          <div class="filter-group">
            <label class="filter-label">Email</label>
            <div class="input-with-icon">
              <svg class="input-icon icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="11" cy="11" r="8"></circle>
                <path d="m21 21-4.3-4.3"></path>
              </svg>
              <input type="text" class="filter-input with-icon" placeholder="Search by email..." id="filterEmail">
            </div>
          </div>
          <div class="filter-group">
            <label class="filter-label">Unique ID</label>
            <div class="input-with-icon">
              <svg class="input-icon icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="11" cy="11" r="8"></circle>
                <path d="m21 21-4.3-4.3"></path>
              </svg>
              <input type="text" class="filter-input with-icon" placeholder="Search by ID..." id="filterUniqueId">
            </div>
          </div>
          <div class="filter-group">
            <label class="filter-label">Status</label>
            <select class="filter-select" id="filterStatus">
              <option value="all">All Statuses</option>
              <option value="submitted">Submitted</option>
              <option value="under-review">Under Review</option>
              <option value="approved">Approved</option>
              <option value="denied">Denied</option>
              <option value="in-progress">In Progress</option>
            </select>
          </div>
          <div class="filter-group">
            <label class="filter-label">Completion</label>
            <select class="filter-select" id="filterCompletion">
              <option value="all">All Applications</option>
              <option value="true" selected>Completed Only</option>
              <option value="false">Incomplete Only</option>
            </select>
          </div>
          <div class="filter-group">
            <label class="filter-label">Min. Monthly Income</label>
            <input type="number" class="filter-input" placeholder="$0" id="filterIncome">
          </div>
        </div>
        <div style="padding: 0 1.5rem 1.5rem;">
          <button class="clear-btn" onclick="clearFilters()">
            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M18 6 6 18"></path>
              <path d="m6 6 12 12"></path>
            </svg>
            Clear All Filters
          </button>
        </div>
      </div>

      <!-- Applications Table -->
      <div class="table-container">
        <div class="table-info">
          Showing <span id="showingCount">10</span> of <span id="totalCount">25</span> applications
        </div>
        <div class="table-wrapper">
          <table>
            <thead>
              <tr>
                <th>Applicant</th>
                <th class="sortable" onclick="sortBy('email')">
                  Email
                  <span class="sort-icons">
                    <svg class="sort-icon" width="10" height="10" viewBox="0 0 24 24" fill="currentColor"><path d="M12 5l-7 7h14l-7-7z"/></svg>
                    <svg class="sort-icon active" width="10" height="10" viewBox="0 0 24 24" fill="currentColor"><path d="M12 19l7-7H5l7 7z"/></svg>
                  </span>
                </th>
                <th>Unique ID</th>
                <th class="sortable" onclick="sortBy('status')">Status</th>
                <th class="sortable" onclick="sortBy('income')">Income</th>
                <th class="sortable" onclick="sortBy('submitted')">Submitted</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="applicationsTableBody">
              <!-- Rows will be inserted by JavaScript -->
            </tbody>
          </table>
        </div>
        <div class="pagination">
          <button class="pagination-btn" onclick="prevPage()" id="prevBtn" disabled>
            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="m15 18-6-6 6-6"></path>
            </svg>
            Previous
          </button>
          <span>Page <span id="currentPage">1</span> of <span id="totalPages">3</span></span>
          <button class="pagination-btn" onclick="nextPage()" id="nextBtn">
            Next
            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="m9 18 6-6-6-6"></path>
            </svg>
          </button>
        </div>
      </div>
    </div>

    <!-- Detail View -->
    <div class="detail-view" id="detailView">
      <div class="table-container">
        <div class="detail-header">
          <button class="go-back-btn" onclick="goBack()">
            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="m12 19-7-7 7-7"></path>
              <path d="M19 12H5"></path>
            </svg>
            Go Back
          </button>
          <div class="detail-title-section">
            <h2 class="detail-title" id="detailTitle">John Smith's Application</h2>
            <div class="detail-meta">
              <code class="unique-id" id="detailUniqueId">RA-ABC123</code>
              <span class="status-badge" id="detailStatus" style="background: #DBEAFE; color: #3B82F6;">Submitted</span>
            </div>
          </div>
        </div>

        <div class="detail-content">
          <!-- Personal Information -->
          <div class="detail-section">
            <div class="section-header">
              <div class="section-title">
                <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
                  <circle cx="12" cy="7" r="4"></circle>
                </svg>
                Personal Information
              </div>
              <button class="edit-btn" onclick="openEditModal('personal')">
                <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="14" height="14">
                  <path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"></path>
                  <path d="m15 5 4 4"></path>
                </svg>
                Edit personal
              </button>
            </div>
            <div class="section-content">
              <div class="info-group">
                <label>Full Name</label>
                <span id="detailFullName">John A Smith</span>
              </div>
              <div class="info-group">
                <label>Date of Birth</label>
                <span id="detailDOB">Jan 15, 1990 (Age: 36)</span>
              </div>
              <div class="info-group">
                <label>Email</label>
                <span id="detailEmail">john.smith@email.com</span>
              </div>
              <div class="info-group">
                <label>Phone</label>
                <span id="detailPhone">(555) 123-4567</span>
              </div>
              <div class="info-group">
                <label>SSN (Last 4)</label>
                <span id="detailSSN">***-**-1234</span>
              </div>
              <div class="info-group">
                <label>Driver's License</label>
                <span id="detailLicense">DL123456 (CA)</span>
              </div>
            </div>
          </div>

          <!-- Address -->
          <div class="detail-section">
            <div class="section-header">
              <div class="section-title">
                <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"></path>
                  <circle cx="12" cy="10" r="3"></circle>
                </svg>
                Current Address
              </div>
              <button class="edit-btn" onclick="openEditModal('address')">
                <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="14" height="14">
                  <path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"></path>
                  <path d="m15 5 4 4"></path>
                </svg>
                Edit address
              </button>
            </div>
            <div class="section-content">
              <div class="info-group full-width">
                <label>Address</label>
                <span id="detailAddress">123 Main Street, Apt 4B, Los Angeles, CA 90001</span>
              </div>
              <div class="info-group">
                <label>Move-in Date</label>
                <span id="detailMoveIn">Jan 1, 2022</span>
              </div>
              <div class="info-group">
                <label>Monthly Rent</label>
                <span id="detailRent">$2,000</span>
              </div>
              <div class="info-group">
                <label>Landlord Name</label>
                <span id="detailLandlord">Property Manager LLC</span>
              </div>
              <div class="info-group">
                <label>Landlord Phone</label>
                <span id="detailLandlordPhone">(555) 987-6543</span>
              </div>
            </div>
          </div>

          <!-- Employment -->
          <div class="detail-section">
            <div class="section-header">
              <div class="section-title">
                <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>
                  <rect width="20" height="14" x="2" y="6" rx="2"></rect>
                </svg>
                Employment
              </div>
              <button class="edit-btn" onclick="openEditModal('employment')">
                <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="14" height="14">
                  <path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"></path>
                  <path d="m15 5 4 4"></path>
                </svg>
                Edit employee
              </button>
            </div>
            <div class="section-content">
              <div class="info-group">
                <label>Employer</label>
                <span id="detailEmployer">Tech Corp Inc.</span>
              </div>
              <div class="info-group">
                <label>Position</label>
                <span id="detailPosition">Software Engineer</span>
              </div>
              <div class="info-group">
                <label>Employment Type</label>
                <span id="detailEmpType">Full-time</span>
              </div>
              <div class="info-group">
                <label>Monthly Income</label>
                <span id="detailIncome" style="color: var(--color-success); font-weight: 600;">$8,500</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Edit Modal -->
  <div class="modal-overlay" id="editModal">
    <div class="modal">
      <div class="modal-header">
        <h3 id="modalTitle">Edit Personal Information</h3>
        <button class="modal-close" onclick="closeEditModal()">
          <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M18 6 6 18"></path>
            <path d="m6 6 12 12"></path>
          </svg>
        </button>
      </div>
      <div class="modal-content" id="modalContent">
        <!-- Form content inserted by JavaScript -->
      </div>
      <div class="modal-footer">
        <button class="cancel-btn" onclick="closeEditModal()">Cancel</button>
        <button class="save-btn" onclick="saveChanges()">
          <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
            <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path>
            <polyline points="17 21 17 13 7 13 7 21"></polyline>
            <polyline points="7 3 7 8 15 8"></polyline>
          </svg>
          Done
        </button>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="page-footer">
    &copy; 2026 Split Lease. All rights reserved.
  </footer>

  <script>
    // Mock Data
    const mockApplications = [
      { id: 1, firstName: 'John', lastName: 'Smith', email: 'john.smith@email.com', phone: '(555) 123-4567', uniqueId: 'RA-M7X2K9', status: 'submitted', statusColor: '#3B82F6', statusBg: '#DBEAFE', income: 8500, submitted: '2024-01-15', completed: true },
      { id: 2, firstName: 'Sarah', lastName: 'Johnson', email: 'sarah.johnson@email.com', phone: '(555) 234-5678', uniqueId: 'RA-P4N8L2', status: 'approved', statusColor: '#10B981', statusBg: '#D1FAE5', income: 6200, submitted: '2024-01-12', completed: true },
      { id: 3, firstName: 'Michael', lastName: 'Williams', email: 'michael.w@email.com', phone: '(555) 345-6789', uniqueId: 'RA-Q9R5T7', status: 'under-review', statusColor: '#8B5CF6', statusBg: '#EDE9FE', income: 7800, submitted: '2024-01-10', completed: true },
      { id: 4, firstName: 'Emily', lastName: 'Brown', email: 'emily.brown@email.com', phone: '(555) 456-7890', uniqueId: 'RA-K3W6Y1', status: 'denied', statusColor: '#EF4444', statusBg: '#FEE2E2', income: 3500, submitted: '2024-01-08', completed: true },
      { id: 5, firstName: 'David', lastName: 'Garcia', email: 'david.garcia@email.com', phone: '(555) 567-8901', uniqueId: 'RA-J8U4H5', status: 'submitted', statusColor: '#3B82F6', statusBg: '#DBEAFE', income: 5400, submitted: '2024-01-05', completed: true },
      { id: 6, firstName: 'Jessica', lastName: 'Martinez', email: 'jessica.m@email.com', phone: '(555) 678-9012', uniqueId: 'RA-B2V7D9', status: 'approved', statusColor: '#10B981', statusBg: '#D1FAE5', income: 9200, submitted: '2024-01-03', completed: true },
      { id: 7, firstName: 'Robert', lastName: 'Anderson', email: 'robert.a@email.com', phone: '(555) 789-0123', uniqueId: 'RA-C6X1F3', status: 'in-progress', statusColor: '#F59E0B', statusBg: '#FEF3C7', income: 4800, submitted: null, completed: false },
      { id: 8, firstName: 'Amanda', lastName: 'Taylor', email: 'amanda.t@email.com', phone: '(555) 890-1234', uniqueId: 'RA-E5Z8G6', status: 'submitted', statusColor: '#3B82F6', statusBg: '#DBEAFE', income: 7100, submitted: '2024-01-01', completed: true },
      { id: 9, firstName: 'Christopher', lastName: 'Thomas', email: 'chris.thomas@email.com', phone: '(555) 901-2345', uniqueId: 'RA-H9A3J2', status: 'under-review', statusColor: '#8B5CF6', statusBg: '#EDE9FE', income: 6700, submitted: '2023-12-28', completed: true },
      { id: 10, firstName: 'Michelle', lastName: 'Jackson', email: 'michelle.j@email.com', phone: '(555) 012-3456', uniqueId: 'RA-L4B7K8', status: 'approved', statusColor: '#10B981', statusBg: '#D1FAE5', income: 8900, submitted: '2023-12-25', completed: true },
      { id: 11, firstName: 'Daniel', lastName: 'White', email: 'daniel.white@email.com', phone: '(555) 111-2222', uniqueId: 'RA-M1C9N5', status: 'submitted', statusColor: '#3B82F6', statusBg: '#DBEAFE', income: 5600, submitted: '2023-12-22', completed: true },
      { id: 12, firstName: 'Lisa', lastName: 'Harris', email: 'lisa.harris@email.com', phone: '(555) 222-3333', uniqueId: 'RA-N7D2P4', status: 'denied', statusColor: '#EF4444', statusBg: '#FEE2E2', income: 4200, submitted: '2023-12-20', completed: true },
    ];

    let currentPage = 1;
    let pageSize = 10;
    let filteredApplications = [...mockApplications];
    let selectedApplication = null;

    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
      renderTable();
      showAlert('Welcome', 'Rental Application Management loaded successfully');
    });

    // Render Table
    function renderTable() {
      const tbody = document.getElementById('applicationsTableBody');
      const start = (currentPage - 1) * pageSize;
      const end = start + pageSize;
      const pageData = filteredApplications.slice(start, end);

      tbody.innerHTML = pageData.map(app => `
        <tr>
          <td>
            <div class="applicant-cell">
              <div class="avatar">${app.firstName[0]}${app.lastName[0]}</div>
              <div>
                <div class="applicant-name">${app.firstName} ${app.lastName}</div>
                <div class="applicant-phone">${app.phone}</div>
              </div>
            </div>
          </td>
          <td>${app.email}</td>
          <td><code class="unique-id">${app.uniqueId}</code></td>
          <td><span class="status-badge" style="background: ${app.statusBg}; color: ${app.statusColor};">${formatStatus(app.status)}</span></td>
          <td>$${app.income.toLocaleString()}</td>
          <td>${app.submitted ? formatDate(app.submitted) : '-'}</td>
          <td>
            <button class="view-btn" onclick="viewApplication(${app.id})">
              <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
                <path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"></path>
                <circle cx="12" cy="12" r="3"></circle>
              </svg>
              View
            </button>
          </td>
        </tr>
      `).join('');

      document.getElementById('showingCount').textContent = pageData.length;
      document.getElementById('totalCount').textContent = filteredApplications.length;
      document.getElementById('currentPage').textContent = currentPage;
      document.getElementById('totalPages').textContent = Math.ceil(filteredApplications.length / pageSize);
      document.getElementById('prevBtn').disabled = currentPage === 1;
      document.getElementById('nextBtn').disabled = currentPage >= Math.ceil(filteredApplications.length / pageSize);
    }

    function formatStatus(status) {
      return status.split('-').map(word => word.charAt(0).toUpperCase() + word.slice(1)).join(' ');
    }

    function formatDate(dateStr) {
      const date = new Date(dateStr);
      return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
    }

    // Pagination
    function prevPage() {
      if (currentPage > 1) {
        currentPage--;
        renderTable();
      }
    }

    function nextPage() {
      if (currentPage < Math.ceil(filteredApplications.length / pageSize)) {
        currentPage++;
        renderTable();
      }
    }

    // Sorting
    function sortBy(field) {
      // Toggle sort direction or sort by new field
      filteredApplications.sort((a, b) => {
        if (field === 'email') return a.email.localeCompare(b.email);
        if (field === 'status') return a.status.localeCompare(b.status);
        if (field === 'income') return b.income - a.income;
        if (field === 'submitted') return new Date(b.submitted || 0) - new Date(a.submitted || 0);
        return 0;
      });
      renderTable();
    }

    // Filters
    function clearFilters() {
      document.getElementById('filterName').value = '';
      document.getElementById('filterEmail').value = '';
      document.getElementById('filterUniqueId').value = '';
      document.getElementById('filterStatus').value = 'all';
      document.getElementById('filterCompletion').value = 'all';
      document.getElementById('filterIncome').value = '';
      filteredApplications = [...mockApplications];
      currentPage = 1;
      renderTable();
      showAlert('Filters Cleared', 'All filters have been reset');
    }

    // Apply filters on input change
    ['filterName', 'filterEmail', 'filterUniqueId', 'filterStatus', 'filterCompletion', 'filterIncome'].forEach(id => {
      document.getElementById(id).addEventListener('input', applyFilters);
      document.getElementById(id).addEventListener('change', applyFilters);
    });

    function applyFilters() {
      const name = document.getElementById('filterName').value.toLowerCase();
      const email = document.getElementById('filterEmail').value.toLowerCase();
      const uniqueId = document.getElementById('filterUniqueId').value.toLowerCase();
      const status = document.getElementById('filterStatus').value;
      const completion = document.getElementById('filterCompletion').value;
      const minIncome = parseInt(document.getElementById('filterIncome').value) || 0;

      filteredApplications = mockApplications.filter(app => {
        if (name && !`${app.firstName} ${app.lastName}`.toLowerCase().includes(name)) return false;
        if (email && !app.email.toLowerCase().includes(email)) return false;
        if (uniqueId && !app.uniqueId.toLowerCase().includes(uniqueId)) return false;
        if (status !== 'all' && app.status !== status) return false;
        if (completion !== 'all' && app.completed !== (completion === 'true')) return false;
        if (app.income < minIncome) return false;
        return true;
      });

      currentPage = 1;
      renderTable();
    }

    // View Application
    function viewApplication(id) {
      selectedApplication = mockApplications.find(app => app.id === id);
      if (!selectedApplication) return;

      // Update detail view content
      document.getElementById('detailTitle').textContent = `${selectedApplication.firstName} ${selectedApplication.lastName}'s Application`;
      document.getElementById('detailUniqueId').textContent = selectedApplication.uniqueId;
      document.getElementById('detailStatus').textContent = formatStatus(selectedApplication.status);
      document.getElementById('detailStatus').style.background = selectedApplication.statusBg;
      document.getElementById('detailStatus').style.color = selectedApplication.statusColor;
      document.getElementById('detailFullName').textContent = `${selectedApplication.firstName} A ${selectedApplication.lastName}`;
      document.getElementById('detailDOB').textContent = 'Jan 15, 1990 (Age: 36)';
      document.getElementById('detailEmail').textContent = selectedApplication.email;
      document.getElementById('detailPhone').textContent = selectedApplication.phone;
      document.getElementById('detailIncome').textContent = `$${selectedApplication.income.toLocaleString()}`;

      // Switch views
      document.getElementById('listView').classList.add('hidden');
      document.getElementById('detailView').classList.add('active');
    }

    function goBack() {
      document.getElementById('detailView').classList.remove('active');
      document.getElementById('listView').classList.remove('hidden');
      selectedApplication = null;
    }

    // Edit Modal
    function openEditModal(section) {
      const modal = document.getElementById('editModal');
      const modalTitle = document.getElementById('modalTitle');
      const modalContent = document.getElementById('modalContent');

      const titles = {
        personal: 'Edit Personal Information',
        address: 'Edit Address',
        employment: 'Edit Employment'
      };

      modalTitle.textContent = titles[section] || 'Edit';

      if (section === 'personal') {
        modalContent.innerHTML = `
          <div class="form-row">
            <div class="form-group">
              <label>First Name</label>
              <input type="text" value="${selectedApplication?.firstName || 'John'}">
            </div>
            <div class="form-group">
              <label>Last Name</label>
              <input type="text" value="${selectedApplication?.lastName || 'Smith'}">
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label>Email</label>
              <input type="email" value="${selectedApplication?.email || 'john@email.com'}">
            </div>
            <div class="form-group">
              <label>Phone</label>
              <input type="tel" value="${selectedApplication?.phone || '(555) 123-4567'}">
            </div>
          </div>
        `;
      } else if (section === 'address') {
        modalContent.innerHTML = `
          <div class="form-row">
            <div class="form-group full">
              <label>Street Address</label>
              <input type="text" value="123 Main Street">
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label>City</label>
              <input type="text" value="Los Angeles">
            </div>
            <div class="form-group">
              <label>State</label>
              <input type="text" value="CA">
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label>Zip Code</label>
              <input type="text" value="90001">
            </div>
            <div class="form-group">
              <label>Monthly Rent</label>
              <input type="number" value="2000">
            </div>
          </div>
        `;
      } else if (section === 'employment') {
        modalContent.innerHTML = `
          <div class="form-row">
            <div class="form-group">
              <label>Employer Name</label>
              <input type="text" value="Tech Corp Inc.">
            </div>
            <div class="form-group">
              <label>Job Title</label>
              <input type="text" value="Software Engineer">
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label>Monthly Income</label>
              <input type="number" value="${selectedApplication?.income || 8500}">
            </div>
            <div class="form-group">
              <label>Employment Type</label>
              <select>
                <option value="full-time" selected>Full-time</option>
                <option value="part-time">Part-time</option>
                <option value="contract">Contract</option>
                <option value="self-employed">Self-employed</option>
              </select>
            </div>
          </div>
        `;
      }

      modal.classList.add('active');
    }

    function closeEditModal() {
      document.getElementById('editModal').classList.remove('active');
    }

    function saveChanges() {
      closeEditModal();
      showAlert('Success', 'Changes saved successfully');
    }

    // Alert System
    function showAlert(title, message) {
      const container = document.getElementById('alertContainer');
      const alert = document.createElement('div');
      alert.className = 'alert-notification alert-purple';
      alert.innerHTML = `
        <div class="alert-content">
          <div class="alert-title">${title}</div>
          <div class="alert-message">${message}</div>
        </div>
        <button class="alert-close" onclick="this.parentElement.remove()">
          <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M18 6 6 18"></path>
            <path d="m6 6 12 12"></path>
          </svg>
        </button>
        <div class="alert-progress"></div>
      `;
      container.appendChild(alert);

      // Auto-remove after 5 seconds
      setTimeout(() => {
        if (alert.parentElement) {
          alert.remove();
        }
      }, 5000);
    }

    // Close modal on overlay click
    document.getElementById('editModal').addEventListener('click', (e) => {
      if (e.target === document.getElementById('editModal')) {
        closeEditModal();
      }
    });
  </script>
</body>
</html>
